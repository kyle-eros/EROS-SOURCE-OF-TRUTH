{
  "creationTime": "1757476433361",
  "etag": "ELRR9gLgQcFJIIcs7/a8fw==",
  "id": "of-scheduler-proj:mart.v_weekly_template_7d_pages_overrides",
  "kind": "bigquery#table",
  "lastModifiedTime": "1757476433361",
  "location": "US",
  "numActiveLogicalBytes": "0",
  "numBytes": "0",
  "numLongTermBytes": "0",
  "numLongTermLogicalBytes": "0",
  "numRows": "0",
  "numTotalLogicalBytes": "0",
  "schema": {
    "fields": [
      {
        "name": "username_std",
        "type": "STRING"
      },
      {
        "name": "page_type",
        "type": "STRING"
      },
      {
        "name": "username_page",
        "type": "STRING"
      },
      {
        "name": "scheduler_name",
        "type": "STRING"
      },
      {
        "name": "tz",
        "type": "STRING"
      },
      {
        "name": "date_local",
        "type": "DATE"
      },
      {
        "name": "slot_rank",
        "type": "INTEGER"
      },
      {
        "name": "hod_local",
        "type": "INTEGER"
      },
      {
        "name": "price_usd",
        "type": "NUMERIC"
      },
      {
        "name": "planned_local_datetime",
        "type": "DATETIME"
      },
      {
        "name": "scheduled_datetime_utc",
        "type": "TIMESTAMP"
      },
      {
        "name": "tracking_hash",
        "type": "STRING"
      }
    ]
  },
  "selfLink": "https://bigquery.googleapis.com/bigquery/v2/projects/of-scheduler-proj/datasets/mart/tables/v_weekly_template_7d_pages_overrides",
  "tableReference": {
    "datasetId": "mart",
    "projectId": "of-scheduler-proj",
    "tableId": "v_weekly_template_7d_pages_overrides"
  },
  "type": "VIEW",
  "view": {
    "query": "WITH base AS (\n  SELECT\n    b.username_std, b.page_type, b.username_page, b.scheduler_name,\n    b.tz, b.date_local, b.slot_rank, b.hod_local, b.price_usd,\n    b.planned_local_datetime, b.scheduled_datetime_utc, b.tracking_hash\n  FROM `of-scheduler-proj.mart.v_weekly_template_7d_pages` b\n),\nr AS (\n  SELECT alias_norm, resolved_username_std\n  FROM `of-scheduler-proj.core.v_username_resolver`\n)\nSELECT\n  COALESCE(r.resolved_username_std, base.username_std) AS username_std,\n  base.page_type,\n  CONCAT(COALESCE(r.resolved_username_std, base.username_std), '__', base.page_type) AS username_page,\n  COALESCE(o.assigned_scheduler, base.scheduler_name, 'unassigned') AS scheduler_name,\n  base.tz, base.date_local, base.slot_rank, base.hod_local, base.price_usd,\n  base.planned_local_datetime, base.scheduled_datetime_utc, base.tracking_hash\nFROM base\nLEFT JOIN r\n  ON r.alias_norm = `of-scheduler-proj.util.norm_username`(base.username_std)\nLEFT JOIN `of-scheduler-proj.core.page_scheduler_overrides` o\n  ON o.username_std = COALESCE(r.resolved_username_std, base.username_std)",
    "useLegacySql": false
  }
}
