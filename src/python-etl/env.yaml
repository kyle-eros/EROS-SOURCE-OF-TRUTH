# Project Configuration
PROJECT_ID: of-scheduler-proj
GCP_PROJECT_ID: of-scheduler-proj  # Alias for compatibility

# Cloud Run Configuration
CLOUD_RUN_REGION: us-central1
JOB_NAME: gmail-etl-job
CLOUD_RUN_SERVICE_ACCOUNT: gmail-elt-pipeline-sa@of-scheduler-proj.iam.gserviceaccount.com

# Gmail Configuration
TARGET_GMAIL_USER: kyle@erosops.com
GMAIL_SEARCH_QUERY: 'from:no-reply@infloww.com subject:"OF mass message history report is ready for download" newer_than:7d'
SERVICE_ACCOUNT_EMAIL: gmail-elt-pipeline-sa@of-scheduler-proj.iam.gserviceaccount.com

# Optional: Path to service account JSON (if not using Secret Manager)
GMAIL_SERVICE_ACCOUNT_FILE: ""

# Secret Manager (preferred for production)
GMAIL_SA_SECRET_NAME: "gmail-etl-sa-key"

# Google Cloud Storage
GCS_RAW_BUCKET: eros-report-files-raw-2025
GCS_PREFIX: gmail_etl/reports

# ============================================
# ðŸ”¥ UPDATED BIGQUERY CONFIGURATION ðŸ”¥
# ============================================
# BigQuery Configuration - UPDATED FOR STAGING TABLE
BQ_DATASET: staging  # Changed to staging dataset
BQ_TABLE: gmail_etl_daily  # Changed to staging table
BIGQUERY_LOCATION: US

# ============================================
# STATE MANAGEMENT (NO CHANGES NEEDED)
# ============================================
# State Management - STAYS THE SAME
STATE_BUCKET: eros-report-files-raw-2025
STATE_OBJECT_PATH: state/gmail_last_processed.json

# Processing Configuration
LOG_LEVEL: INFO
RESET_STATE: "false"  # Set to "true" to reprocess all messages
MAX_MESSAGES_PER_RUN: "1000"  # Limit messages per execution

# Scheduler Configuration (for automated runs)
CRON_SCHEDULE: "0 5,17 * * *"  # 5am and 5pm daily
SCHEDULER_REGION: us-central1
SCHEDULER_TIME_ZONE: America/Denver
SCHEDULER_SA: gmail-etl-scheduler-invoker@of-scheduler-proj.iam.gserviceaccount.com

# Optional: Monitoring
ENABLE_MONITORING: "true"
ALERT_EMAIL: ""  # Email for critical alerts (if configured)